<!DOCTYPE html>
<html>
<head>
<script src="./dist/edf.min.js"></script>
<script>
	var edf = null;
	async function read_file() {
		var files = document.getElementById("fileSelector").files;
		if (files.length > 0) {
			edf = await edfjs.EDF().from_file(files[0], header_only=false);
			var data = await edf.get_physical_samples(0, 0.1, ['EEG F4-A1']);
		}
	}

	function callback(evt) {
		var txt = "File Header<br>";
		for (var key in edf.fields) {
			txt += key + " " + edf[key] + "<br>";
		}
		var label = edf.channels[0].label;
		txt += "Here a few samples of channel "+label+" <br>";
		var data = edf.get_physical_samples(0.0, 0.1, [label]);
		for (var d in data[label]) {
			txt += data[label][d]+"<br>";
		}
		document.getElementById("content").innerHTML = txt;
	}
</script>
</head>
<body onload='read_file()'>
<div><input type="file" id="fileSelector" onchange="read_file();" accept=".edf"/></div>
<div id="content"></div>
</body>
</html>

